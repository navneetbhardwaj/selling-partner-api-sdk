/**
 * Selling Partner API for Supply Sources
 * Manage configurations and capabilities of seller supply sources.
 *
 * The version of the OpenAPI document: 2020-07-01
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 *
 */

import { ApiClient } from '../ApiClient.js'
import { CreateSupplySourceRequest } from '../model/CreateSupplySourceRequest.js'
import { CreateSupplySourceResponse } from '../model/CreateSupplySourceResponse.js'
import { ErrorList } from '../model/ErrorList.js'
import { GetSupplySourcesResponse } from '../model/GetSupplySourcesResponse.js'
import { SupplySource } from '../model/SupplySource.js'
import { UpdateSupplySourceRequest } from '../model/UpdateSupplySourceRequest.js'
import { UpdateSupplySourceStatusRequest } from '../model/UpdateSupplySourceStatusRequest.js'
import { SuperagentRateLimiter } from '../../../helper/SuperagentRateLimiter.mjs'
import { DefaultRateLimitFetcher } from '../../../helper/DefaultRateLimitFetcher.mjs'

/**
* SupplySources service.
* @module supplysources_v2020_07_01/api/SupplySourcesApi
* @version 2020-07-01
*/
export class SupplySourcesApi {
  // Private memeber stores the default rate limiters
  #defaultRateLimiterMap

  /**
    * Constructs a new SupplySourcesApi.
    * @alias module:supplysources_v2020_07_01/api/SupplySourcesApi
    * @class
    * @param {module:supplysources_v2020_07_01/ApiClient} [apiClient] Optional API client implementation to use,
    * default to {@link module:supplysources_v2020_07_01/ApiClient#instance} if unspecified.
    */
  constructor (apiClient) {
    this.apiClient = apiClient || ApiClient.instance
    this.initializeDefaultRateLimiterMap()
  }

  /**
     * Initialize rate limiters for API operations
     */
  initializeDefaultRateLimiterMap () {
    this.#defaultRateLimiterMap = new Map()
    const defaultRateLimitFetcher = new DefaultRateLimitFetcher()
    const operations = [
      'SupplySourcesApi-archiveSupplySource',
      'SupplySourcesApi-createSupplySource',
      'SupplySourcesApi-getSupplySource',
      'SupplySourcesApi-getSupplySources',
      'SupplySourcesApi-updateSupplySource',
      'SupplySourcesApi-updateSupplySourceStatus'
    ]

    for (const operation of operations) {
      const config = defaultRateLimitFetcher.getLimit(operation)
      this.#defaultRateLimiterMap.set(operation, new SuperagentRateLimiter(config))
    }
  }

  /**
     * Get rate limiter for a specific operation
     * @param {String} operation name
     */
  getRateLimiter (operation) {
    return this.#defaultRateLimiterMap.get(operation)
  }

  /**
     * Archive a supply source, making it inactive. Cannot be undone.
     * @param {String} supplySourceId The unique identifier of a supply source.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:supplysources_v2020_07_01/model/ErrorList} and HTTP response
     */
  archiveSupplySourceWithHttpInfo (supplySourceId) {
    const postBody = null

    // verify the required parameter 'supplySourceId' is set
    if (supplySourceId === undefined || supplySourceId === null) {
      throw new Error("Missing the required parameter 'supplySourceId' when calling archiveSupplySource")
    }

    const pathParams = {
      supplySourceId
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = ErrorList

    return this.apiClient.callApi('SupplySourcesApi-archiveSupplySource',
      '/supplySources/2020-07-01/supplySources/{supplySourceId}', 'DELETE',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('SupplySourcesApi-archiveSupplySource')
    )
  }

  /**
     * Archive a supply source, making it inactive. Cannot be undone.
     * @param {String} supplySourceId The unique identifier of a supply source.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:supplysources_v2020_07_01/model/ErrorList}
     */
  archiveSupplySource (supplySourceId) {
    return this.archiveSupplySourceWithHttpInfo(supplySourceId)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Create a new supply source.
     * @param {module:supplysources_v2020_07_01/model/CreateSupplySourceRequest} payload A request to create a supply source.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:supplysources_v2020_07_01/model/CreateSupplySourceResponse} and HTTP response
     */
  createSupplySourceWithHttpInfo (payload) {
    const postBody = payload

    // verify the required parameter 'payload' is set
    if (payload === undefined || payload === null) {
      throw new Error("Missing the required parameter 'payload' when calling createSupplySource")
    }

    const pathParams = {
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = ['application/json']
    const accepts = ['application/json']
    const returnType = CreateSupplySourceResponse

    return this.apiClient.callApi('SupplySourcesApi-createSupplySource',
      '/supplySources/2020-07-01/supplySources', 'POST',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('SupplySourcesApi-createSupplySource')
    )
  }

  /**
     * Create a new supply source.
     * @param {module:supplysources_v2020_07_01/model/CreateSupplySourceRequest} payload A request to create a supply source.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:supplysources_v2020_07_01/model/CreateSupplySourceResponse}
     */
  createSupplySource (payload) {
    return this.createSupplySourceWithHttpInfo(payload)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Retrieve a supply source.
     * @param {String} supplySourceId The unique identifier of a supply source.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:supplysources_v2020_07_01/model/SupplySource} and HTTP response
     */
  getSupplySourceWithHttpInfo (supplySourceId) {
    const postBody = null

    // verify the required parameter 'supplySourceId' is set
    if (supplySourceId === undefined || supplySourceId === null) {
      throw new Error("Missing the required parameter 'supplySourceId' when calling getSupplySource")
    }

    const pathParams = {
      supplySourceId
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = SupplySource

    return this.apiClient.callApi('SupplySourcesApi-getSupplySource',
      '/supplySources/2020-07-01/supplySources/{supplySourceId}', 'GET',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('SupplySourcesApi-getSupplySource')
    )
  }

  /**
     * Retrieve a supply source.
     * @param {String} supplySourceId The unique identifier of a supply source.
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:supplysources_v2020_07_01/model/SupplySource}
     */
  getSupplySource (supplySourceId) {
    return this.getSupplySourceWithHttpInfo(supplySourceId)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * The path to retrieve paginated supply sources.
     * @param {Object} opts Optional parameters
     * @param {String} opts.nextPageToken The pagination token to retrieve a specific page of results.
     * @param {Number} opts.pageSize The number of supply sources to return per paginated request. (default to 10.0)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:supplysources_v2020_07_01/model/GetSupplySourcesResponse} and HTTP response
     */
  getSupplySourcesWithHttpInfo (opts) {
    opts = opts || {}
    const postBody = null

    const pathParams = {
    }
    const queryParams = {
      nextPageToken: opts.nextPageToken,
      pageSize: opts.pageSize
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = []
    const accepts = ['application/json']
    const returnType = GetSupplySourcesResponse

    return this.apiClient.callApi('SupplySourcesApi-getSupplySources',
      '/supplySources/2020-07-01/supplySources', 'GET',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('SupplySourcesApi-getSupplySources')
    )
  }

  /**
     * The path to retrieve paginated supply sources.
     * @param {Object} opts Optional parameters
     * @param {String} opts.nextPageToken The pagination token to retrieve a specific page of results.
     * @param {Number} opts.pageSize The number of supply sources to return per paginated request. (default to 10.0)
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:supplysources_v2020_07_01/model/GetSupplySourcesResponse}
     */
  getSupplySources (opts) {
    return this.getSupplySourcesWithHttpInfo(opts)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Update the configuration and capabilities of a supply source.
     * @param {String} supplySourceId The unique identitier of a supply source.
     * @param {Object} opts Optional parameters
     * @param {module:supplysources_v2020_07_01/model/UpdateSupplySourceRequest} opts.payload
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:supplysources_v2020_07_01/model/ErrorList} and HTTP response
     */
  updateSupplySourceWithHttpInfo (supplySourceId, opts) {
    opts = opts || {}
    const postBody = opts.payload

    // verify the required parameter 'supplySourceId' is set
    if (supplySourceId === undefined || supplySourceId === null) {
      throw new Error("Missing the required parameter 'supplySourceId' when calling updateSupplySource")
    }

    const pathParams = {
      supplySourceId
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = ['application/json']
    const accepts = ['application/json']
    const returnType = ErrorList

    return this.apiClient.callApi('SupplySourcesApi-updateSupplySource',
      '/supplySources/2020-07-01/supplySources/{supplySourceId}', 'PUT',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('SupplySourcesApi-updateSupplySource')
    )
  }

  /**
     * Update the configuration and capabilities of a supply source.
     * @param {String} supplySourceId The unique identitier of a supply source.
     * @param {Object} opts Optional parameters
     * @param {module:supplysources_v2020_07_01/model/UpdateSupplySourceRequest} opts.payload
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:supplysources_v2020_07_01/model/ErrorList}
     */
  updateSupplySource (supplySourceId, opts) {
    return this.updateSupplySourceWithHttpInfo(supplySourceId, opts)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }

  /**
     * Update the status of a supply source.
     * @param {String} supplySourceId The unique identifier of a supply source.
     * @param {Object} opts Optional parameters
     * @param {module:supplysources_v2020_07_01/model/UpdateSupplySourceStatusRequest} opts.payload
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with an object containing data of type {@link module:supplysources_v2020_07_01/model/ErrorList} and HTTP response
     */
  updateSupplySourceStatusWithHttpInfo (supplySourceId, opts) {
    opts = opts || {}
    const postBody = opts.payload

    // verify the required parameter 'supplySourceId' is set
    if (supplySourceId === undefined || supplySourceId === null) {
      throw new Error("Missing the required parameter 'supplySourceId' when calling updateSupplySourceStatus")
    }

    const pathParams = {
      supplySourceId
    }
    const queryParams = {
    }
    const headerParams = {
    }
    const formParams = {
    }

    const contentTypes = ['application/json']
    const accepts = ['application/json']
    const returnType = ErrorList

    return this.apiClient.callApi('SupplySourcesApi-updateSupplySourceStatus',
      '/supplySources/2020-07-01/supplySources/{supplySourceId}/status', 'PUT',
      pathParams, queryParams, headerParams, formParams, postBody,
      contentTypes, accepts, returnType, this.getRateLimiter('SupplySourcesApi-updateSupplySourceStatus')
    )
  }

  /**
     * Update the status of a supply source.
     * @param {String} supplySourceId The unique identifier of a supply source.
     * @param {Object} opts Optional parameters
     * @param {module:supplysources_v2020_07_01/model/UpdateSupplySourceStatusRequest} opts.payload
     * @return {Promise} a {@link https://www.promisejs.org/|Promise}, with data of type {@link module:supplysources_v2020_07_01/model/ErrorList}
     */
  updateSupplySourceStatus (supplySourceId, opts) {
    return this.updateSupplySourceStatusWithHttpInfo(supplySourceId, opts)
      .then(function (response_and_data) {
        return response_and_data.data
      })
  }
}
